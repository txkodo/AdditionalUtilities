{
  "type":"each",
  "enable":false,
  "tree_arg":{},
  "arg":{
    "$":"kd_bt:test t",
    "as":"@e[type=minecraft:pig]",
    "max":"16",
    "score":"kdbtt",
    "tag":"kdbtt"
  },
  "root":{
    "decorators":[{"type":"animation/with","arg":{"entity":"zombie","tag":"book_anim"}},{"type":"loop"}],
    "type":"all",
    "childs":{
      "charge":{
        "decorators":[{"type":"animation/with_loop","arg":{"animation":"zombie.stand"}}],
        "arg":{"score":"wait","tick":"10"},
        "type":"wait_score"
      },
      "face":{
        "arg":{"entity":"@p"},
        "type":"move/lookentity2d"
      },
      "rotate_b":{
        "decorators":[{"type":"animation/with_loop","arg":{"animation":"zombie.rotate_enter"}}],
        "type":"pass"
      },
      "move":{
        "decorators":[{"type":"animation/with_loop","arg":{"animation":"zombie.rotate"}}],
        "arg":{"offset":"^ ^ ^0.5"},
        "type":"move/untilcollide"
      },
      "rotate_a":{
        "decorators":[{"type":"animation/with_loop","arg":{"animation":"zombie.rotate_end"}}],
        "type":"pass"
      },
      "attack":{
        "decorators":[{"type":"check_first","arg":{"condition":"if entity @p[distance=..4]","result":"1"}}],
        "type":"all",
        "childs":{
          "face":{
            "arg":{"entity":"@p"},
            "type":"move/lookentity2d"
          },
          "attack":{
            "decorators":[{"type":"animation/with_loop","arg":{"animation":"zombie.hit"}}],
            "type":"pass"
          }
        }
      }
    }
  }
}